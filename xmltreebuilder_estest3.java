package org.jsoup.parser;

import org.jsoup.nodes.Element;
import org.junit.Test;

/**
 * This test class contains an improved version of a test case for XmlTreeBuilder.
 * The original test was generated by a tool and was difficult to understand.
 */
public class XmlTreeBuilder_ESTestTest3 extends XmlTreeBuilder_ESTest_scaffolding {

    /**
     * Verifies that calling {@code initialiseParseFragment} on a newly created
     * XmlTreeBuilder throws a NullPointerException.
     * <p>
     * This behavior is expected because the method relies on an internal parser
     * instance, which is only initialized during a full parsing operation (e.g., via {@code parse()}).
     * Calling it on a standalone, uninitialized builder results in an NPE when
     * the method attempts to access the null parser.
     * </p>
     */
    @Test(expected = NullPointerException.class)
    public void initialiseParseFragmentOnUninitializedBuilderThrowsNPE() {
        // Arrange: Create a new, uninitialized XmlTreeBuilder.
        XmlTreeBuilder builder = new XmlTreeBuilder();
        // A non-null context element is required by the method signature.
        Element contextElement = new Element("doc");

        // Act: Attempt to initialize a fragment parse.
        // This should throw a NullPointerException because the internal parser is null.
        builder.initialiseParseFragment(contextElement);

        // Assert: The expected exception is handled by the @Test annotation.
        // If no exception is thrown, the test will fail automatically.
    }
}