package org.apache.commons.lang3.text.translate;

import org.junit.Test;
import static org.junit.Assert.assertEquals;

import java.io.StringWriter;
import java.io.IOException;

/**
 * Tests for {@link NumericEntityUnescaper}.
 * This class contains a refactored test case originally generated by EvoSuite.
 */
public class NumericEntityUnescaper_ESTestTest3 {

    @Test
    public void shouldLeaveUnterminatedEntityAtEndOfStringUntranslated() throws IOException {
        // Arrange
        // The default constructor creates an unescaper that requires a semicolon for entities.
        final NumericEntityUnescaper unescaper = new NumericEntityUnescaper();
        final String input = "This is a test &";
        final StringWriter writer = new StringWriter();

        // Act
        unescaper.translate(input, writer);

        // Assert
        // The input should remain unchanged because the ampersand at the end does not
        // form a complete and valid numeric entity.
        assertEquals(input, writer.toString());
    }
}