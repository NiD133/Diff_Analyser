package org.apache.commons.compress.harmony.unpack200;

import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

// Note: The original test class was generated by EvoSuite and extends a scaffolding class.
// To maintain compatibility, we keep the original class structure while improving the test method.
public class SegmentConstantPool_ESTestTest50 extends SegmentConstantPool_ESTest_scaffolding {

    /**
     * Tests that getConstantPoolEntry() throws an IOException when called with an unsupported
     * constant pool type. This test specifically uses CP_DESCR, which is not yet supported by the implementation.
     */
    @Test(timeout = 4000)
    public void getConstantPoolEntryForUnsupportedTypeThrowsIOException() throws Exception {
        // Arrange: Set up the test conditions.
        // The CpBands can be null for this test, as the type check occurs before it's accessed.
        SegmentConstantPool segmentConstantPool = new SegmentConstantPool(null);

        // Use the constant for the unsupported type instead of a magic number (9).
        final int unsupportedConstantPoolType = SegmentConstantPool.CP_DESCR;
        final long anyIndex = 4L; // The index value is not relevant to this test.
        final String expectedErrorMessage = "Type CP_DESCR is not supported yet: " + unsupportedConstantPoolType;

        // Act & Assert: Execute the method and verify the outcome.
        try {
            segmentConstantPool.getConstantPoolEntry(unsupportedConstantPoolType, anyIndex);
            fail("Expected an IOException to be thrown for an unsupported constant pool type, but no exception was thrown.");
        } catch (final IOException e) {
            // Verify that the exception message is correct.
            assertEquals(expectedErrorMessage, e.getMessage());
        }
    }
}