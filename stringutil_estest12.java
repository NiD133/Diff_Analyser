package org.jsoup.internal;

import org.junit.Test;
import static org.junit.Assert.assertTrue;

/**
 * This test class contains improved versions of tests originally generated by EvoSuite.
 * The focus is on making individual test cases more understandable and maintainable.
 */
public class StringUtil_ESTestTest12 extends StringUtil_ESTest_scaffolding {

    /**
     * Tests that StringUtil.inSorted() can find an element in a malformed array
     * (unsorted and containing nulls) if the binary search algorithm happens to
     * find the element before encountering a null comparison.
     */
    @Test
    public void inSortedFindsElementInUnsortedArrayWithNulls() {
        // Arrange: Create an array that is not sorted and contains nulls.
        // The `inSorted` method is expected to use binary search. This test checks an
        // edge case where the target element is found before a NullPointerException
        // can occur from comparing against a null element.
        String[] haystack = {null, "", null, null};
        String needle = "";

        // Act
        boolean isFound = StringUtil.inSorted(needle, haystack);

        // Assert
        assertTrue(
            "The element should be found, as the binary search hits it before encountering a null.",
            isFound
        );
    }
}